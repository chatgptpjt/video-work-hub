# 使い方ガイド

このプロジェクトを Cursor + Claude で効果的に活用するためのガイドです。

## 基本的な使い方

### 1. 新しい案件を登録する

Claudeに以下のように依頼:
```
projects/ に新しい案件を追加してください。
クライアント: ○○
案件内容: △△
納期: YYYY-MM-DD
```

### 2. 作業ログを記録する

Claudeに以下のように依頼:
```
今日の作業ログを記録してください。
- やったこと: ○○
- 学んだこと: △△
- 次回やること: □□
```

### 3. 過去の情報を検索する

Claudeに以下のように依頼:
```
過去の案件で「○○」に関する情報を探してください
```

```
クライアントAとの過去のやり取りを要約してください
```

## 便利なプロンプト例

### 案件の振り返り
```
projects/ の完了した案件を分析して、よかった点と改善点をまとめてください
```

### 月次レポート
```
今月の作業ログを要約して、学んだことリストを作成してください
```

### テンプレート作成
```
よく使う○○のテンプレートを templates/ に作成してください
```

## Tips

- 案件ファイルは `YYYY-MM-クライアント名.md` の形式で命名すると検索しやすい
- ログは月単位 `YYYY-MM.md` でまとめると振り返りやすい
- Claudeに「このプロジェクトの構成を説明して」と聞くと、初期状態を確認できる

---

# 開発ツール一覧

## セットアップ方法

```bash
./scripts/setup-dev-tools.sh
```

## インストールされるツール

### パッケージマネージャー

| ツール | 説明 |
|--------|------|
| Homebrew | macOS用パッケージマネージャー |

### コマンドラインツール

| ツール | コマンド | 説明 | 使用例 |
|--------|----------|------|--------|
| GitHub CLI | `gh` | GitHubの操作をコマンドラインで実行 | `gh repo view --json visibility` |
| jq | `jq` | JSONのパース・整形 | `cat data.json \| jq '.key'` |
| tree | `tree` | ディレクトリ構造をツリー表示 | `tree -L 2` |
| wget | `wget` | ファイルのダウンロード | `wget https://example.com/file` |
| ripgrep | `rg` | 高速なテキスト検索（grepの代替） | `rg "pattern" ./src` |
| fd | `fd` | 高速なファイル検索（findの代替） | `fd "*.ts"` |
| bat | `bat` | シンタックスハイライト付きファイル表示 | `bat file.ts` |
| fzf | `fzf` | ファジーファインダー | `ls \| fzf` |
| HTTPie | `http` | 使いやすいHTTPクライアント | `http GET https://api.example.com` |

### Node.js パッケージ

| パッケージ | 説明 | 使用例 |
|-----------|------|--------|
| Playwright | ブラウザ自動化・スクレイピング | `npx playwright test` |

## 各ツールの詳細

### GitHub CLI (`gh`)

GitHubの操作をターミナルから直接実行できます。

```bash
# 認証
gh auth login

# リポジトリの情報確認
gh repo view

# PRの作成
gh pr create --title "タイトル" --body "説明"

# Issueの一覧
gh issue list
```

### jq

JSONデータの操作に便利です。

```bash
# 整形表示
echo '{"name":"test"}' | jq .

# 特定のキーを抽出
cat data.json | jq '.items[].name'
```

### ripgrep (`rg`)

grepより高速で、.gitignoreを自動で尊重します。

```bash
# パターン検索
rg "function" ./src

# ファイルタイプ指定
rg "import" --type ts
```

### fd

findより高速で使いやすいファイル検索ツールです。

```bash
# 拡張子で検索
fd -e ts

# 名前パターンで検索
fd "test"
```

### bat

catの代替で、シンタックスハイライト付きでファイルを表示します。

```bash
# ファイル表示
bat file.ts

# 行番号なし
bat --style=plain file.ts
```

### Playwright

ブラウザ自動化ツール。Webスクレイピングやテスト自動化に使用します。

```javascript
const { chromium } = require('playwright');

async function scrape() {
  const browser = await chromium.launch({ headless: true });
  const page = await browser.newPage();
  await page.goto('https://example.com');

  // テキスト取得
  const text = await page.textContent('h1');

  // スクリーンショット
  await page.screenshot({ path: 'screenshot.png' });

  await browser.close();
}
```

```bash
# スクリプト実行
node scripts/fetch-profile.js

# テスト実行
npx playwright test

# ブラウザのインストール
npx playwright install chromium
```

## 既存ツール

以下のツールは既にインストール済みです：

| ツール | バージョン |
|--------|-----------|
| Node.js | v22.21.1 |
| Python | 3.9.6 |

## トラブルシューティング

### Homebrewのパスが通らない場合

```bash
echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zshrc
source ~/.zshrc
```

### GitHub CLIの認証

```bash
gh auth login
```

ブラウザが開き、GitHubアカウントで認証を行います。

## Claude Code 権限設定

`.claude/settings.local.json` で、確認なしで実行を許可するコマンドを設定しています。

### 設定ファイルの場所

| ファイル | 用途 |
|----------|------|
| `.claude/settings.json` | チーム共有設定（Gitにコミット） |
| `.claude/settings.local.json` | 個人設定（.gitignoreで除外推奨） |
| `~/.claude/settings.json` | ユーザー全体設定 |

### 許可済みコマンド

以下のコマンドは確認なしで実行されます：

- **パッケージ管理**: `brew`, `npm`, `npx`, `pip3`
- **Git/GitHub**: `git`, `gh`
- **ファイル操作**: `mkdir`, `ls`, `cp`, `mv`, `touch`, `cat`, `head`, `tail`
- **検索**: `rg`, `fd`, `tree`
- **その他**: `curl`, `wget`, `jq`, `node`, `python3`

### 拒否設定

セキュリティのため、以下は拒否されます：

- `rm -rf /*` などの危険なコマンド
- `.env` や認証情報ファイルの読み取り

### 設定の追加方法

新しいコマンドを許可する場合は、`.claude/settings.local.json` の `allow` 配列に追加：

```json
{
  "permissions": {
    "allow": [
      "Bash(新しいコマンド:*)"
    ]
  }
}
```

詳細: https://docs.anthropic.com/en/docs/claude-code
